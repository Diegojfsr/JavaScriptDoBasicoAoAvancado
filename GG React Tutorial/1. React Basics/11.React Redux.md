React-Redux é uma biblioteca popular de gerenciamento de estado que ajuda a gerenciar o estado de aplicações React. É uma ferramenta essencial no ecossistema React, permitindo lidar com eficiência com lógica de estado complexa e fluxo de dados em aplicações grandes. O React-Redux conecta o repositório Redux aos componentes React, permitindo uma comunicação perfeita entre ambos.

Antes de mergulhar no React-Redux, é importante entender o que é Redux e por que ele é usado.

## O que é Redux?

Redux é um contêiner de estado previsível para aplicações JavaScript. Ele ajuda a gerenciar o estado de uma aplicação de forma centralizada, facilitando a manutenção e a depuração, especialmente à medida que a complexidade da aplicação aumenta.

****Baseia-se em três princípios fundamentais:****

1. ****Fonte única de verdade**** : todo o estado do aplicativo é armazenado em um único objeto JavaScript chamado ****store**** .
2. ****O estado é somente leitura**** : a única maneira de alterar o estado é despachando uma ****ação**** que descreva a alteração.
3. ****As alterações são feitas com funções puras**** : as alterações no estado são feitas usando ****redutores**** , que são funções puras que pegam o estado anterior e uma ação e retornam o novo estado.

## ****Por que usar React-Redux?****

O React-Redux serve como a biblioteca oficial para conectar ****o Redux**** ao ****React**** . Aqui estão alguns motivos pelos quais os desenvolvedores optam por usar o React-Redux:

- ****Simplifica o gerenciamento de estados:**** [o React-Redux](https://www.geeksforgeeks.org/react-redux-tutorial/) simplifica o gerenciamento de estados, fornecendo uma abordagem estruturada para lidar com mudanças de estado. Ele permite que você gerencie todo o estado em um só lugar, facilitando o rastreamento de alterações em toda a sua aplicação.
- ****Fluxo de Estado Previsível:**** O Redux torna as mudanças de estado previsíveis, o que é crucial para depurar e manter aplicações de grande escala. O estado só pode mudar por meio de ações, e essas ações são processadas por redutores, tornando o fluxo de dados transparente.
- ****Desvincula componentes do gerenciamento de estado:**** com o React-Redux, você pode desvincular os componentes da interface do usuário da lógica de estado. Isso significa que os componentes se concentram na renderização da interface do usuário, enquanto o Redux gerencia o estado do aplicativo.
- ****Depuração mais fácil:**** o React-Redux habilita ferramentas como ****o Redux DevTools**** que permitem inspecionar, registrar e reproduzir alterações de estado, facilitando a depuração.
- ****Otimizações de Desempenho:**** O React-Redux utiliza ****verificações de igualdade superficiais**** para otimizar re-renderizações. Ele evita re-renderizações desnecessárias, garantindo que os componentes sejam atualizados somente quando o estado relevante mudar.

## ****Conceitos básicos do React-Redux****

Para usar o React-Redux de forma eficaz, você precisa entender alguns conceitos-chave:

### ****1. Loja****
O ****repositório**** é um objeto centralizado que armazena o estado do aplicativo. É o único local onde o estado pode ser modificado.

### ****2. Ações****
Uma ação é um objeto JavaScript simples que descreve uma alteração no estado do aplicativo. Ela deve ter uma propriedade de tipo e pode, opcionalmente, incluir um payload.

```
const incrementAção = {
    tipo: 'INCREMENTO',
    carga útil: 1
};
```

### ****3. Redutores****
Um ****redutor**** é uma função pura que especifica como o estado do aplicativo muda em resposta a uma ação. Ele recebe o estado atual e uma ação como argumentos e retorna um novo estado.

```
const counterReducer = (estado = 0, ação) => {
    switch (ação.tipo) {
        caso 'INCREMENTO':
            retornar estado + ação.payload;
        caso 'DECREMENTO':
            estado de retorno - ação.payload;
        padrão:
            estado de retorno;
    }
};
```

### ****4. Despacho****
A função ****de despacho**** é usada para enviar uma ação ao repositório Redux, acionando o redutor para processar a mudança de estado.

```
armazenar.despacho(incrementoAção);
```

### ****5. Seletores****
Um ****seletor**** é uma função que recupera partes específicas de estado do repositório Redux. Ele ajuda a abstrair o processo de recuperação de estado, facilitando o acesso ao estado de uma forma mais gerenciável.

```
const selectCount = (estado) => estado.count;
```

### ****6. Provedor****
O componente Provider disponibiliza o repositório Redux para todos os componentes da aplicação. Ele deve encapsular toda a aplicação para que qualquer componente possa acessar o repositório.
```
importar {Provedor} de 'react-redux';
<Loja do provedor={store}>
    <Aplicativo />
</Provedor>;
```

### ****7. conectar()****
connect() é uma função fornecida pelo React-Redux para conectar componentes React ao repositório Redux. Ela permite que os componentes acessem o estado e despachem ações.
```
importar { conectar } de 'react-redux';
const Contador = ({ contagem, incremento }) => (
    <div>
        <h1>{contagem}</h1>
        <button onClick={increment}>Incrementar</button>
    </div>
);
const mapStateToProps = (estado) => ({
    contagem: estado.contagem
});
const mapDispatchToProps = (despacho) => ({
    incremento: () => despacho({ tipo: 'INCREMENTO', carga útil: 1 })
});
exportar padrão connect(mapStateToProps, mapDispatchToProps)(Contador)
```

## ****Como funciona o React-Redux****
O React-Redux conecta componentes ****React**** à ****loja Redux**** , garantindo um gerenciamento de estado fluido em todo o seu aplicativo. Veja uma análise simplificada de como funciona:

### ****1. Configurando a Loja****
O ****repositório Redux**** armazena todo o estado da sua aplicação. Ele é criado usando createStore() e inicializado com um redutor para definir como o estado muda.
```
const store = createStore(counterReducer);
```

### ****2. Ações de Despacho****

****Ações**** são objetos simples que descrevem mudanças de estado. Essas ações são despachadas para informar o Redux sobre uma mudança de estado.

```
store.dispatch({ tipo: 'INCREMENTO', carga útil: 1 });
```

### ****3. Os redutores atualizam o estado****

Um ****redutor**** é uma função que atualiza o estado com base no tipo de ação. Ele recebe o estado e a ação atuais e retorna um novo estado.

```
const counterReducer = (estado = 0, ação) => {
    switch (ação.tipo) {
        caso 'INCREMENTO': retornar estado + ação.carga útil;
        padrão: estado de retorno;
    }
};
```

### ****4. Conectando componentes com connect()****

A função connect() do React-Redux conecta componentes React ao armazenamento Redux, permitindo que os componentes acessem o estado e despachem ações.

```
const mapStateToProps = (estado) => ({ contagem: estado });
const mapDispatchToProps = (despacho) => ({
    incremento: () => despacho({ tipo: 'INCREMENTO', carga útil: 1 })
});
```

### ****5. Usando o provedor para tornar a loja acessível****

O componente Provedor disponibiliza a loja para todos os componentes do aplicativo.

```
<Loja do provedor={store}><App /></Provider>
```

### ****6. Re-Renderizações e Reatividade****

O React-Redux garante que somente componentes dependentes do estado atualizado serão renderizados novamente, otimizando o desempenho.

## Etapas para implementar o React-Redux

### Etapa 1: Configurando o Projeto

Primeiro, crie um novo aplicativo React usando create-react-app:

```
npx criar-reagir-aplicativo reagir-redux-contadorcd reagir-redux-contador
```

Em seguida, instale o redux e o react-redux:

```
npm install redux react-redux
```

### Dependências

```
"dependências": {   
    "@testing-library/jest-dom": "^5.17.0",   
    "@testing-library/react": "^13.4.0",   
    "@testing-library/user-event": "^13.5.0",   
    "react": "^18.3.1",   
    "react-dom": "^18.3.1",   
    "react-redux": "^9.1.2",   
    "react-scripts": "5.0.1",   
    "redux": "^5.0.1",   
    "web-vitals": "^2.1.4"   
}
```

### Etapa 2: Definir Tipos de Ação

Você precisa definir os tipos de ação, que representam as ações que atualizarão o estado.
```
// src/redux/actionTypes.js
export const INCREMENT = 'INCREMENT';
export const DECREMENT = 'DECREMENT';
```

### Etapa 3: Criadores de Ação

Criadores de ações são funções que retornam objetos de ação.

```
// src/redux/actions.js
import { INCREMENT, DECREMENT } from "./actionTypes";

export const increment = () => ({
    type: INCREMENT,
});

export const decrement = () => ({
    type: DECREMENT,
});
```

### Etapa 4: Redutores

Redutores especificam como o estado do aplicativo muda em resposta a ações. A função redutora recebe o estado e a ação atuais e retorna o estado atualizado.
```
// src/redux/reducer.js
import { INCREMENT, DECREMENT } from "./actionTypes";

const initialState = {
    count: 0,
};

const counterReducer = (state = initialState, action) => {
    switch (action.type) {
        case INCREMENT:
            return { ...state, count: state.count + 1 };
        case DECREMENT:
            return { ...state, count: state.count - 1 };
        default:
            return state;
    }
};

export default counterReducer;
```

### Etapa 5: Crie o Redux Store

Agora, crie o armazenamento Redux usando a função createStore do Redux.
```
// src/redux/store.js
import { createStore } from 'redux';
import counterReducer from './reducer';

const store = createStore(counterReducer);

export default store;
```

### Etapa 5: Encapsule o aplicativo com o Redux Provider

Em seguida, envolva todo o seu aplicativo com o Redux Provider para tornar a loja acessível a todos os componentes do aplicativo.

```
/* src/index.css */

body {
    font-family: Arial, sans-serif;
    text-align: center;
}

button {
    margin: 5px;
    padding: 10px;
    font-size: 16px;
}
```

```

/* index.html */

import React from 'react';
import ReactDOM from 'react-dom';
import { Provider } from 'react-redux';
import store from './redux/store';
import App from './App';

ReactDOM.render(
    <Provider store={store}>
        <App />
    </Provider>,
    document.getElementById('root')
);
```

```
/*app.js*/

import React from "react";
import Counter from "./components/Counter";

function App() {
    return (
        <div className="App">
            <h1>React-Redux Counter App</h1>
            <Counter />
        </div>
    );
}

export default App;
```

```
/*Contador.js*/

import React from "react";
import { useSelector, useDispatch } from "react-redux";
import { increment, decrement } from "../redux/actions";

const Counter = () => {
    const count = useSelector((state) => state.count);
    const dispatch = useDispatch();

    return (
        <div>
            <p>Count: {count}</p>
            <button onClick={() => dispatch(increment())}>Increment</button>
            <button onClick={() => dispatch(decrement())}>Decrement</button>
        </div>
    );
};

export default Counter;
```

****Para iniciar o aplicativo, execute o seguinte comando.****

```
npm início
```

## Conclusão

Neste artigo, exploramos ****o React-Redux,**** que simplifica o gerenciamento de estados no React centralizando o estado do aplicativo em um repositório Redux. Usando ****Provider**** , ****connect()**** e hooks do React-Redux, como ****useSelector**** e ****useDispatch,**** os componentes React podem acessar e atualizar facilmente o estado global. O React-Redux ajuda a melhorar a previsibilidade, o desempenho e a manutenibilidade do estado, especialmente em aplicativos de grande escala.

