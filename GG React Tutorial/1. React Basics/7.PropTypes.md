No ReactJS, PropTypes são as propriedades compartilhadas principalmente entre os componentes pais e os componentes filhos. São usadas para resolver o problema de validação de tipo. Desde a versão mais recente do React 19, o Prototype foi removido.

## O que é ReactJS PropTypes?

PropTypes é uma ferramenta em [React](https://www.geeksforgeeks.org/react/) que nos ajuda a verificar se os dados (props) passados ​​para um componente são do tipo correto. Os componentes React recebem vários tipos de props e os PropTypes ajudam a garantir que o tipo certo de dado (como uma string, um número ou um objeto) seja passado para seus componentes.

- ****Segurança de tipo:**** quando o tipo de dado errado é passado no componente, os protótipos ajudam a encontrar os problemas.
- ****Melhor depuração:**** durante o desenvolvimento, eles exibem mensagens de aviso no console, o que facilita a localização de bugs.
- ****Documentação aprimorada:**** atua como autodocumentação para seus componentes, mostrando os tipos esperados de adereços.
- ****Evita erros de tempo de execução:**** podemos evitar erros causados ​​por tipos de dados inesperados durante a execução do aplicativo, impondo tipos de propriedades.

> ****Observação: na versão mais recente do React 19, o proptypes foi removido. Ele foi descontinuado na versão 15.5 do React.****

## Como usar PropTypes no React?

### Etapa 1: instalar o pacote prop-types

```
npx criar-reagir-aplicativo reagir-aplicativo
cd react-app
```

```
npm install prop-types
```

```
//src/components/Button.js

import React from 'react';
import PropTypes from 'prop-types';

const Button = ({ label, type }) => {
    return <button className={`btn btn-${type}`}>{label}</button>;
};

Button.propTypes = {
    label: PropTypes.string.isRequired,
    type: PropTypes.oneOf(['primary', 'secondary', 'danger']).isRequired,
};

export default Button;

```

```
//src/components/Greeting.js
import React from 'react';
import PropTypes from 'prop-types';

const Greeting = ({ name, age }) => {
    return (
        <div>
            <h1>Hello, {name}!</h1>
            <p>You are {age} years old.</p>
        </div>
    );
};

Greeting.propTypes = {
    name: PropTypes.string.isRequired,
    age: PropTypes.number,
};

Greeting.defaultProps = {
    age: 25,
};

export default Greeting;
```

```
//src/components/userProfile.js
import React from 'react';
import PropTypes from 'prop-types';

const UserProfile = ({ user }) => {
    return (
        <div>
            <h2>{user.name}</h2>
            <p>Age: {user.age}</p>
            <p>Email: {user.email}</p>
        </div>
    );
};

UserProfile.propTypes = {
    user: PropTypes.shape({
        name: PropTypes.string.isRequired,
        age: PropTypes.number.isRequired,
        email: PropTypes.string.isRequired,
    }).isRequired,
};

export default UserProfile;
```

```
//App.js
import React from 'react';
import Greeting from './components/Greeting';
import Button from './components/Button';
import UserProfile from './components/UserProfile';

const App = () => {
    const user = { name: 'Pushkar', age: 25, email: 'gfg@example.com' };

    return (
        <div>
            <Greeting name="GFG" age={22} />
            <Button label="Click Me" type="primary" />
            <UserProfile user={user} />
        </div>
    );
};

export default App;
```

```
// index.js
import React from 'react';
import ReactDOM from 'react-dom/client'; // Import createRoot from react-dom/client
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root')); // Create root
root.render(
    <React.StrictMode>
        <App />
    </React.StrictMode>
);
```


****Neste exemplo****

- há três componentes reutilizáveis: Greeting, Button e UserProfile, cada um com validação PropTypes para implementar tipos de prop corretos e valores padrão.
- Saudação exibe uma mensagem personalizada e idade (idade padrão: 25, se não fornecida).
- O botão impõe o tipo como um de ['primário', 'secundário', 'perigo'].
- UserProfile espera um objeto de usuário com nome, idade e e-mail.
- O componente App renderiza Greeting, Button e UserProfile, passando propriedades como nome, idade, rótulo, tipo e objeto de usuário.
- O arquivo index.js inicializa o aplicativo React usando ReactDOM.createRoot() e renderiza o componente App dentro de <React.StrictMode>, garantindo as melhores práticas e o tratamento de erros.

## Validadores PropTypes comuns

|****Tipo de propriedade****|****Descrição****|
|---|---|
|`PropTypes.string`|Confirma que a propriedade é uma ****string**** .|
|`PropTypes.number`|Confirma que o suporte é um ****número**** .|
|`PropTypes.bool`|Confirma que o prop é um ****booleano**** ( `true`ou `false`).|
|`PropTypes.func`|Confirma que o prop é uma ****função**** .|
|`PropTypes.array`|Confirma que o prop é um ****array**** .|
|`PropTypes.object`|Confirma que o suporte é um ****objeto**** .|
|`PropTypes.node`|Confirma que o prop pode ser ****qualquer coisa que possa ser renderizada**** (por exemplo, números, strings, elementos ou uma matriz de elementos).|
|`PropTypes.element`|Confirma que o prop é um ****elemento React**** .|
|`PropTypes.instanceOf(Class)`|Confirma que o prop é uma ****instância de uma classe específica**** .|
|`PropTypes.oneOf([value1, value2])`|Confirma que a propriedade corresponde ****a um dos valores fornecidos**** .|
|`PropTypes.oneOfType([type1, type2])`|Confirma que o suporte corresponde ****a um dos tipos fornecidos**** .|
|`PropTypes.arrayOf(type)`|Confirma que o prop é um ****array de um tipo específico**** .|
|`PropTypes.objectOf(type)`|Confirma que a propriedade é um ****objeto onde todos os valores são de um tipo específico**** .|
|`PropTypes.shape({})`|Confirma que o suporte é um ****objeto com um formato específico**** .|

## Uso avançado de PropTypes

### Adereços padrão

Usando ****defaultProps**** , também podemos especificar os valores padrão para as propriedades. Isso é usado quando certas propriedades são opcionais e queremos definir um valor padrão caso elas não sejam passadas.

```
Saudação.defaultProps = {
    nome: 'Convidado',
    idade: 18,
};
```

Com isso, se nenhum nome ou idade for fornecido, o componente usará 'Convidado' e 18 como valores padrão.

### PropTypes com matrizes e objetos

****Conjunto de tipos específicos:****
```
Componente.propTypes = {
    itens: PropTypes.arrayOf(PropTypes.string),
};
```
****Objeto com formato específico:****
```
Componente.propTypes = {
    usuário: PropTypes.shape({
        id: PropTypes.number.isRequired,
        nome: PropTypes.string.isRequired,
    }),
};
```
### PropTypes com validação personalizada
```
Componente.propTypes = {
    idade: (adereços, nome do objeto, nome do componente) => {
        se (props[propName] < 18) {
            retornar novo erro(`${componentName}: ${propName} deve ter pelo menos 18.`);
        }
    },
};
```
### PropTypes com Enum (Um de Valores Específicos)

Podemos usar oneOf para definir o apropriado para um conjunto de valores predefinidos.
```
Botão.propTypes = {
    tipo: PropTypes.oneOf(['primário', 'secundário', 'perigo']),
};
```
### PropTypes com um de vários tipos

```
Componente.propTypes = {
    valor: PropTypes.oneOfType([
        PropTypes.string,
        PropTypes.número,
    ]),
};
```

## PropTypes vs TypeScript

|Recurso|Tipos de Adereços|TypeScript|
|---|---|---|
|Verificação de tipo|Verificação de tipo em tempo de execução.|Verificação de tipo em tempo de compilação.|
|Integração com React|Integrado ao React (para JavaScript).|Integra-se totalmente ao ambiente de desenvolvimento.|
|Escopo de verificação de tipo|Valida tipos de propriedades para componentes React.|Valida adereços, variáveis, funções e muito mais.|
|Caso de uso|Ideal para projetos JavaScript pequenos ou antigos.|Ideal para projetos de larga escala habilitados para TypeScript com segurança de tipo avançada.|
|Valores padrão|Usa defaultProps para definir valores padrões.|Suporta valores padrões diretamente dentro dos tipos.|


