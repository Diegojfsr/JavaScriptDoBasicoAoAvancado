No React, lidar com as interações do usuário de forma eficiente é importante para a construção de aplicativos responsivos e dinâmicos. Um dos eventos comumente usados ​​para gerenciar o comportamento de foco é o evento onBlur. Este evento é importante para rastrear quando um usuário move o foco para longe de um elemento, como um campo de entrada ou um botão.

Neste artigo, exploraremos o evento onBlur no React, sua finalidade, como ele funciona e casos de uso comuns.

## O que é o evento onBlur?

O evento onBlur no React é um evento sintético acionado quando um elemento perde o foco. É comumente usado com elementos de formulário, como campos de entrada, áreas de texto e botões, para lidar com situações em que o usuário se afasta de um elemento, seja clicando em outro lugar na página ou navegando para outro elemento usando o teclado (por exemplo, pressionando a tecla "Tab").

****Sintaxe****

```
<Elemento onBlur={handleBlur} />
```

- ****Elemento:**** O [componente React]() ou elemento [HTML]() (como entrada, área de texto, etc.) cuja perda de foco você deseja rastrear.
- ****handleBlur:**** A função que será executada quando o elemento perder o foco. Esta função pode ser definida no seu componente.

É semelhante ao  [evento onblur do HTML DOM]()  , mas usa a convenção camelCase no React.

## Quando o evento onBlur é disparado?

O evento onBlur é acionado quando um elemento perde o foco. Isso pode acontecer de várias maneiras:

- O usuário clica fora do elemento.
- O usuário pressiona a tecla "Tab" para navegar para outro elemento.
- O usuário clica ou foca em outro elemento interativo, como um botão ou link.

## Manipulando o evento onBlur

O evento onBlur no [React]() é disparado quando um elemento perde o foco. Este evento é comumente usado para executar ações após o usuário terminar de interagir com um campo de entrada, como validação de formulário, atualizações de interface do usuário ou salvamento de dados.

```
import React, { useState } from 'react';

function App() {
    const [value, setValue] = useState('');

    const handleBlur = () => {
        console.log('Input blurred');
    };

    return (
        <form action="">
            <label htmlFor="">Name:</label>
            <input
                type="text"
                value={value}
                placeholder='Write Your Name'
                onChange={
                    (e) => 
                    setValue(e.target.value)}
                onBlur={handleBlur}
            />
        </form>
    );
}

export default App;
```

****Neste código****

- Um componente React com um campo de entrada controlado usando o gancho useState.
- O estado do valor contém o valor atual da entrada.
- O evento [onChange]() atualiza o estado do valor conforme o usuário digita.
- O evento onBlur aciona a função handleBlur e registra "Entrada desfocada" quando a entrada perde o foco.

## Prevenção de comportamento padrão

Em alguns casos, você pode querer evitar certos comportamentos padrão acionados pelo evento onBlur, como refocalização ou alterações não intencionais na interface do usuário. Impedimos o comportamento padrão de envio de formulário usando o evento onSubmit no React, comumente usado em formulários. Usaremos o método [event.preventDefault()]() para impedir que o formulário recarregue a página quando o usuário o enviar. Em vez disso, tratamos o envio do formulário programaticamente.

```
import React, { useState } from "react";

function PreventDefault() {
    const [value, setValue] = useState("");
    const [message, setMessage] = useState("");
    
    const handleSubmit = (event) => {
        event.preventDefault();
        if (!value.trim()) {
            setMessage("Please enter something in the input field!");
        } else {
            setMessage(`Form submitted successfully with value: ${value}`);
        }
    };

    const handleChange = (event) => {
        setValue(event.target.value);
        setMessage(""); 
    };

    return (
        <div>
            <h2>Form with Prevented Default Submission</h2>
            <form onSubmit={handleSubmit}>
                <label>
                    Enter Text:
                    <input
                        type="text"
                        value={value}
                        onChange={handleChange}
                        placeholder="Type something"
                    />
                </label>
                <button type="submit">Submit</button>
            </form>

            {/* Display the message based on form submission */}
            {message && <p>{message}</p>}
        </div>
    );
}

export default PreventDefault;
```

****Neste código****

- Este componente React impede que o envio do formulário recarregue a página usando event.preventDefault().
- Ele valida o campo de entrada no envio, exibindo uma mensagem de erro se estiver vazio, ou uma mensagem de sucesso com o valor inserido.
- A entrada é gerenciada usando o estado, e a mensagem é apagada quando o usuário digita.

## Acessando o Objeto de Evento

O manipulador de eventos onBlur no React recebe um objeto de evento que fornece detalhes sobre a mudança de foco. Este objeto de evento é útil para acessar informações como o elemento que perdeu o foco, o elemento anterior e outros dados relevantes.

```
import React, { useState } from "react";

function AccessEvent() {
    const [value, setValue] = useState("");

    const handleChange = (event) => {
        console.log("Event Object:", event); 
        console.log("Input Value:", event.target.value); 
        setValue(event.target.value); 
    };

    return (
        <div>
            <h2>Access Event Object Example</h2>
            <input
                type="text"
                value={value}
                onChange={handleChange} 
                placeholder="Type something"
            />
            <p>Input Value: {value}</p>
        </div>
    );
}

export default AccessEvent;
```

****Neste código****

- Este componente React registra o objeto de evento e o valor de entrada sempre que o usuário digita no campo de entrada.
- A função handleChange atualiza o estado com o valor de entrada (event.target.value) e registra os detalhes do evento.
- O valor de entrada atual é exibido abaixo do campo de entrada.

## Usando onBlur para validação de foco

Um caso de uso comum para o evento onBlur é a validação de foco, que permite validar a entrada do usuário quando ele move o foco para longe de um campo de entrada (por exemplo, verificar se um endereço de e-mail é válido depois que ele sai do campo de entrada).

```
import React, { useState } from "react";

function FocusValidation() {
    const [email, setEmail] = useState("");
    const [error, setError] = useState("");

    const handleBlur = () => {
        const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        if (!regex.test(email)) {
            setError("Please enter a valid email.");
        } else {
            setError("");
        }
    };

    const handleChange = (event) => {
        setEmail(event.target.value);
    };

    return (
        <div>
            <input
                type="email"
                value={email}
                onChange={handleChange}
                onBlur={handleBlur}
            />
            {error && <p style={{ color: "red" }}>{error}</p>}
        </div>
    );
}

export default FocusValidation;
```

## Usando onBlur para alternar os modos de edição

Também podemos usar o evento onBlur para alternar entre os modos de edição e visualização em um componente de interface do usuário, permitindo que os usuários editem um campo e, em seguida, alternem automaticamente de volta para o modo de exibição quando terminarem.
```
import React, { useState } from "react";

function ToggleEdit() {
    const [isEditing, setIsEditing] = useState(false);
    const [value, setValue] = useState("Click to Edit");

    const handleBlur = () => {
        setIsEditing(false); 
    };

    const handleChange = (event) => {
        setValue(event.target.value);
    };

    return (
        <div>
            {isEditing ? (
                <input
                    type="text"
                    value={value}
                    onChange={handleChange}
                    onBlur={handleBlur} 
                />
            ) : (
                <p onClick={() => setIsEditing(true)}>{value}</p> 
            )}
        </div>
    );
}

export default ToggleEdit;
```

****Neste código****

- ****Modo de Edição:**** Quando o usuário clica no texto exibido (p), ele alterna para um campo de entrada, permitindo a edição do texto. O evento onBlur sai do modo de edição quando a entrada perde o foco.
- ****Modo de exibição:**** O texto é exibido como um parágrafo (p). Clicar no texto o alterna para o modo de edição.

## Casos de uso comuns para o evento React onBlur

O evento onBlur no React é altamente versátil e pode ser usado para lidar com diversas interações e aprimorar a experiência do usuário. Abaixo estão alguns casos de uso comuns em que onBlur pode ser particularmente útil:

- ****Validação de formulário:**** acione a validação quando um usuário sai de um campo de entrada (por exemplo, verifique se um e-mail é válido).
- ****Salvamento automático:**** salva os dados automaticamente quando o usuário termina de editar um campo.
- ****Atualizações da IU:**** altere elementos da IU, como mostrar feedback de validação ou alterar estilos de campo.
- ****Gerenciamento de foco:**** mova automaticamente o foco para o próximo campo ou etapa em um formulário.
- ****Ocultar elementos da interface do usuário:**** oculte dicas de ferramentas, menus suspensos ou pop-ups quando o foco for perdido.
- ****Fechando modais:**** feche modais ou pop-ups quando o usuário clicar fora ou mover o foco.

## Conclusão

O evento onBlur no React é uma ferramenta poderosa para lidar com interações de foco do usuário. Ele fornece uma maneira de responder a mudanças de foco, como validar entradas, exibir mensagens úteis ou formatar dados. Ao entender quando e como usar o onBlur, você pode melhorar significativamente a experiência do usuário em seus aplicativos React, especialmente ao lidar com formulários e elementos interativos.


